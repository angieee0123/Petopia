<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Petopia • Home</title>
  <meta name="description" content="Petopia — Shop electronics, fashion, home, beauty and more. Deals, flash sales, official stores and fast delivery.">
  
  <!-- Added Inter font and Font Awesome icons like the admin dashboard -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  
  <style>
    /* Updated CSS variables to match admin dashboard glassmorphism design */
    :root {
      --bg: #f6f8ff;
      --panel: rgba(255,255,255,.60);
      --panel-strong: rgba(255,255,255,.95);
      --text: #0b0f1a;
      --muted: #5b6378;
      --accent: #7cf4d1;
      --accent-2: #8bb6ff;
      --glass-shadow: 0 10px 30px rgba(16,24,40,.08);
      --card-radius: 12px;
      --gap: 18px;
      --ring: rgba(124, 244, 209, 0.7);
      --error: #ff6b6b;
    }

    /* Updated base styles with Inter font and improved typography */
    *{box-sizing:border-box;margin:0;padding:0}
    body {
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color: var(--text);
      background: var(--bg);
      line-height: 1.6;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Container */
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding-left: 20px;
      padding-right: 20px;
    }

    /* Updated header with glassmorphism design from admin dashboard */
    header {
      background: var(--panel-strong);
      backdrop-filter: blur(10px);
      box-shadow: var(--glass-shadow);
      padding: 12px 20px;
      position: sticky;
      top: 0;
      z-index: 99;
    }
    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 16px;
    }
    
    /* Updated logo styling to match admin dashboard brand styling */
    .logo a {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
    }
    .logo-icon {
      width: 44px;
      height: 44px;
      border-radius: 10px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      display: flex;
      align-items: center;
      justify-content: center;
      color: #051014;
      font-weight: 800;
      font-size: 1.05rem;
      box-shadow: 0 6px 18px rgba(139,182,255,.09);
    }
    .logo-text {
      font-weight: 800;
      letter-spacing: 0.3px;
      color: #23272f;
      font-size: 1.05rem;
    }
    
    /* Updated search styling with glassmorphism */
    .search {
      flex: 1;
      display: flex;
      gap: 8px;
      max-width: 600px;
      align-items: center;
    }
    .search input {
      flex: 1;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid rgba(11,15,26,.06);
      background: #fff;
      color: var(--text);
      font-size: 0.95rem;
    }
    .search button {
      padding: 10px 16px;
      border: none;
      border-radius: 10px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: #051014;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 8px 26px rgba(139,182,255,.08);
    }
    
    /* Updated icon buttons with admin dashboard styling */
    .quick-icons {
      display: flex;
      gap: 8px;
      align-items: center;
    }
    .quick-icons .icon-btn {
      position: relative;
      border: none;
      background: transparent;
      font-size: 1.05rem;
      padding: 8px;
      border-radius: 8px;
      cursor: pointer;
      color: var(--text);
      transition: color .16s ease;
    }
    .quick-icons .icon-btn:hover {
      color: var(--accent-2);
    }
    .badge {
      position: absolute;
      top: 4px;
      right: 4px;
      background: var(--accent-2);
      color: #051014;
      border-radius: 999px;
      padding: 2px 6px;
      font-weight: 800;
      font-size: 0.72rem;
    }
    
    /* Updated login/signup buttons with glassmorphism styling */
    .icon-btn[aria-label="Login"] {
      font-size: 0.92rem;
      font-weight: 700;
      color: var(--text);
      background: #fff;
      border: 1px solid rgba(11,15,26,.06);
      border-radius: 8px;
      padding: 8px 12px;
      margin-right: 8px;
      box-shadow: var(--glass-shadow);
      cursor: pointer;
      transition: all .16s ease;
    }
    .icon-btn[aria-label="Login"]:hover {
      color: var(--accent-2);
      box-shadow: 0 8px 26px rgba(139,182,255,.08);
    }
    .signup-btn {
      font-size: 0.92rem;
      font-weight: 700;
      color: #051014;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      border: none;
      border-radius: 8px;
      padding: 8px 12px;
      cursor: pointer;
      box-shadow: 0 8px 26px rgba(139,182,255,.08);
      transition: all .16s ease;
    }

    /* Updated hero section with glassmorphism cards */
    .hero {
      margin: 24px auto;
      max-width: 1200px;
      border-radius: var(--card-radius);
      overflow: hidden;
      box-shadow: var(--glass-shadow);
      background: var(--panel-strong);
      backdrop-filter: blur(10px);
    }
    .hero-slider { position: relative; overflow: hidden; }
    .slides { display: flex; transition: transform .5s ease; }
    .slide {
      min-width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 30px;
    }
    .slide img {
      max-width: 50%;
      border-radius: var(--card-radius);
    }
    .slide .info { max-width: 45%; }
    .slide h2 { 
      font-size: 2rem; 
      margin-bottom: 10px; 
      font-weight: 800;
      color: #23272f;
    }
    .slide p { margin-bottom: 8px; color: var(--muted); font-weight: 600; }
    .slide .cta {
      display: inline-block;
      margin-top: 8px;
      padding: 10px 16px;
      border-radius: 8px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      text-decoration: none;
      font-weight: 700;
      color: #051014;
      box-shadow: 0 8px 26px rgba(139,182,255,.08);
    }
    .hero-controls {
      position: absolute;
      top: 50%; width: 100%;
      display: flex; justify-content: space-between;
      padding: 0 10px;
    }
    .ctrl-btn {
      background: rgba(255,255,255,.8);
      backdrop-filter: blur(10px);
      border: none;
      color: var(--text);
      padding: 8px 12px;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: var(--glass-shadow);
    }

    /* Updated categories with glassmorphism cards */
    .categories {
      margin: 30px auto;
      max-width: 1200px;
      display: flex;
      gap: 7px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .category {
      display: flex; flex-direction: column;
      align-items: center; gap: 6px;
      background: var(--panel-strong);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(11,15,26,.06);
      padding: 6px 7px;
      border-radius: 8px;
      cursor: pointer;
      transition: all .16s ease;
      box-shadow: var(--glass-shadow);
      font-size: 0.88rem;
    }
    .category:hover { 
      transform: translateY(-3px); 
      box-shadow: 0 8px 26px rgba(139,182,255,.08);
    }
    .category img {
      width: 60px; height: 60px;
      border-radius: 8px;
    }
    .category i {
      font-size: 1.25rem !important;
    }

    /* Updated flash sale section with glassmorphism */
    .flash { max-width: 1200px; margin: 30px auto; }
    .flash-head {
      display: flex; justify-content: space-between;
      align-items: center; margin-bottom: var(--gap);
    }
    .flash-head h3 {
      font-weight: 800;
      color: #23272f;
      font-size: 1.05rem;
    }
    .flash-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: var(--gap);
    }
    
    /* Updated product cards with glassmorphism design */
    .product {
      background: var(--panel-strong);
      backdrop-filter: blur(10px);
      border-radius: var(--card-radius);
      padding: 14px;
      text-align: center;
      border: 1px solid rgba(11,15,26,.06);
      box-shadow: var(--glass-shadow);
      transition: all .16s ease;
    }
    .product:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 26px rgba(139,182,255,.08);
    }
    .product img { width: 100%; border-radius: 10px; }
    .price { font-weight: 700; margin-top: 6px; color: #23272f; }
    .orig {
      text-decoration: line-through;
      color: var(--muted);
      font-size: 0.9rem;
      margin-left: 4px;
    }
    .progress {
      margin-top: 6px;
      background: rgba(11,15,26,.04);
      border-radius: 8px;
      overflow: hidden; height: 6px;
    }
    .progress i {
      display: block; height: 100%;
      background: var(--accent-2);
    }

    /* Updated vouchers with glassmorphism */
    .vouchers {
      max-width: 1200px;
      margin: 20px auto;
      display: flex; gap: var(--gap); flex-wrap: wrap;
    }
    .voucher {
      flex: 1;
      background: linear-gradient(90deg, #7cf4d1 0%, #ffe066 60%, #8bb6ff 100%);
      color: #23272f;
      font-weight: 800;
      box-shadow: 0 4px 18px rgba(124, 244, 209, 0.18);
      padding: 16px;
      border-radius: 12px;
      text-align: center;
      font-size: 1.08rem;
      letter-spacing: 0.5px;
      transition: transform 0.12s;
    }
    .voucher:hover {
      transform: scale(1.04);
      box-shadow: 0 8px 32px rgba(139,182,255,0.22);
    }

    /* Updated sections with glassmorphism */
    .section { max-width: 1200px; margin: 30px auto; }
    .section h3 {
      font-weight: 800;
      color: #23272f;
      font-size: 1.05rem;
      margin-bottom: var(--gap);
    }
    .carousel {
      display: flex;
      flex-direction: row;
      gap: var(--gap);
      overflow-x: auto;
      padding: 10px 0;
      scroll-behavior: smooth;
      width: 100%;
    }
    .carousel::-webkit-scrollbar {
      height: 8px;
    }
    .carousel::-webkit-scrollbar-thumb {
      background: rgba(11,15,26,.06);
      border-radius: 4px;
    }
    
    /* Updated cards with glassmorphism design */
    .card {
      min-width: 200px;
      background: var(--panel-strong);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(11,15,26,.06);
      padding: 14px;
      border-radius: var(--card-radius);
      text-align: center;
      box-shadow: var(--glass-shadow);
      transition: all .16s ease;
    }
    .card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 26px rgba(139,182,255,.08);
    }
    .card img { width: 100%; border-radius: 10px; }
    .stars { color: gold; margin: 6px 0; }
    .cta {
      margin-top: 6px;
      display: inline-block;
      padding: 8px 12px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      border-radius: 6px;
      font-weight: 700;
      text-decoration: none;
      color: #051014;
      box-shadow: 0 8px 26px rgba(139,182,255,.08);
    }

    /* Updated brands section with glassmorphism */
    .brands {
      display: flex;
      flex-direction: row;
      gap: 24px;
      justify-content: flex-start;
      align-items: center;
      margin-top: var(--gap);
      overflow-x: auto;
      padding-bottom: 10px;
      scrollbar-width: thin;
      scrollbar-color: rgba(11,15,26,.06) #fff;
    }
    .brands::-webkit-scrollbar {
      height: 8px;
    }
    .brands::-webkit-scrollbar-thumb {
      background: rgba(11,15,26,.06);
      border-radius: 4px;
    }
    .brand {
      background: none;
      border: none;
      padding: 0;
      text-align: center;
      box-shadow: none;
      min-width: 110px;
    }
    .brand img {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      object-fit: cover;
      box-shadow: var(--glass-shadow);
      background: #fff;
      display: block;
      margin: 0 auto;
      transition: box-shadow .2s;
    }
    .brand img:hover {
      box-shadow: 0 8px 26px rgba(139,182,255,.08);
    }
    .brand div {
      margin-top: 8px;
      font-size: 0.95rem;
      color: var(--text);
      font-weight: 600;
    }
    .brand a {
      display: none;
    }

    /* Updated footer with glassmorphism */
    footer {
      margin-top: 40px;
      padding: 18px 12px;
      background: var(--panel-strong);
      backdrop-filter: blur(10px);
      box-shadow: var(--glass-shadow);
    }
    .footer-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(200px,1fr));
      gap: var(--gap);
    }
    footer h4 {
      margin-bottom: 10px;
      font-size: 0.95rem;
      color: var(--accent-2);
      font-weight: 700;
    }
    footer ul {
      list-style: none;
      padding: 0;
      display: grid; gap: 6px;
    }
    footer a { 
      text-decoration: none; 
      color: var(--text); 
      font-weight: 600;
      transition: color .16s ease;
    }
    footer a:hover {
      color: var(--accent-2);
    }
    footer p {
      margin-top: 10px;
      color: var(--muted);
      font-size: 0.85rem;
      font-weight: 600;
    }
    .cards {
      display: flex;
      flex-direction: row;
      gap: 20px;
      overflow-x: auto;
      padding: 10px 0 20px 0;
      scroll-behavior: smooth;
      width: 100%;
    }
    .cards > .card {
      flex: 0 0 auto;
      width: 210px;
      margin-bottom: 4px;
    }
    .card img {
      margin-bottom: 8px;
    }

    /* Optional: mas maliit na gap sa loob ng card */
    .icon-btn[aria-label="Login"] {
      font-size: 0.92rem;
      font-weight: 600;
      color: #23272f;
      background: #f3f6fa;
      border: 1px solid #d9e0f2;
      border-radius: 6px;
      padding: 6px 12px;
      margin-right: 4px;
      box-shadow: 0 1px 4px rgba(16,24,40,.06);
      transition: background .15s, border .15s, box-shadow .15s;
    }
    .icon-btn[aria-label="Login"]:hover {
      background: #e5e8f0;
      border-color: #8bb6ff;
      color: #051014;
      box-shadow: 0 2px 8px rgba(16,24,40,.10);
    }
    .signup-btn {
      font-size: 0.92rem;
      font-weight: 600;
      color: #fff;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      border: none;
      border-radius: 6px;
      padding: 6px 12px;
      margin-right: 8px;
      box-shadow: 0 1px 4px rgba(16,24,40,.08);
      transition: background .15s, box-shadow .15s;
    }
    .signup-btn:hover {
      background: linear-gradient(135deg, var(--accent-2), var(--accent));
      box-shadow: 0 2px 8px rgba(16,24,40,.12);
    }

    /* Updated responsive design to maintain glassmorphism on all devices */
    /* Mobile Styles (up to 768px) */
    @media (max-width: 768px) {
      .container {
        padding-left: 16px;
        padding-right: 16px;
      }
      
      header {
        padding: 8px 16px;
      }
      
      .topbar {
        flex-direction: column;
        gap: 12px;
        align-items: stretch;
      }
      
      .logo a {
        justify-content: center;
      }
      
      .logo-text {
        font-size: 0.95rem;
      }
      
      .search {
        max-width: 100%;
        order: 2;
      }
      
      .icons {
        order: 1;
        display: flex;
        justify-content: center;
        gap: 8px;
      }
      
      .quick-icons {
        justify-content: center;
      }
      
      .badge {
        position: absolute;
        top: -8px;
        right: -8px;
        background: var(--accent-2);
        color: #051014;
        border-radius: 50%;
        padding: 2px 6px;
        font-size: 0.7rem;
        font-weight: 700;
        min-width: 18px;
        text-align: center;
      }
      
      .hero {
        margin: 16px auto;
        border-radius: 8px;
      }
      
      .slide {
        flex-direction: column;
        text-align: center;
        padding: 20px;
      }
      
      .slide img {
        max-width: 80%;
        order: 1;
        margin-bottom: 16px;
      }
      
      .slide .info {
        max-width: 100%;
        order: 2;
      }
      
      .slide h2 {
        font-size: 1.5rem;
      }
      
      .categories {
        margin: 20px auto;
        gap: 10px;
      }
      
      .category {
        min-width: calc(50% - 5px);
        padding: 8px;
      }
      
      .category img {
        width: 40px;
        height: 40px;
      }
      
      .flash {
        margin: 20px auto;
      }
      
      .flash-head {
        flex-direction: column;
        gap: 8px;
        text-align: center;
      }
      
      .flash-grid {
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        gap: 12px;
      }
      
      .vouchers {
        flex-direction: column;
        gap: 8px;
      }
      
      .voucher {
        font-size: 0.9rem;
        padding: 12px;
      }
      
      .section {
        margin: 20px auto;
      }
      
      .cards > .card {
        width: 180px;
      }
      
      .brands {
        gap: 16px;
      }
      
      .brand {
        min-width: 90px;
      }
      
      .brand img {
        width: 50px;
        height: 50px;
      }
      
      .footer-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }
    }

    /* Tablet Styles (769px to 1024px) */
    @media (min-width: 769px) and (max-width: 1024px) {
      .container {
        padding-left: 24px;
        padding-right: 24px;
      }
      
      .topbar {
        gap: 12px;
      }
      
      .logo-text {
        font-size: 1rem;
      }
      
      .search {
        max-width: 400px;
      }
      
      .icon-btn[aria-label="Login"] {
        font-size: 0.9rem;
        padding: 7px 14px;
      }
      
      .signup-btn {
        font-size: 0.9rem;
        padding: 7px 14px;
      }
      
      .slide {
        padding: 25px;
      }
      
      .slide h2 {
        font-size: 1.75rem;
      }
      
      .categories {
        gap: 12px;
      }
      
      .category {
        min-width: calc(33.333% - 8px);
      }
      
      .flash-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      }
      
      .cards > .card {
        width: 190px;
      }
      
      .brands {
        gap: 20px;
      }
      
      .brand img {
        width: 60px;
        height: 60px;
      }
      
      .footer-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    /* Small Mobile Styles (up to 480px) */
    @media (max-width: 480px) {
      .logo-text {
        font-size: 0.9rem;
      }
      
      .search input {
        font-size: 14px;
        padding: 8px 12px;
      }
      
      .search button {
        padding: 8px 12px;
        font-size: 14px;
      }
      
      .icon-btn[aria-label="Login"] {
        font-size: 0.8rem;
        padding: 6px 10px;
      }
      
      .signup-btn {
        font-size: 0.8rem;
        padding: 6px 10px;
      }
      
      .slide h2 {
        font-size: 1.25rem;
      }
      
      .slide p {
        font-size: 0.9rem;
      }
      
      .category {
        min-width: 100%;
        margin-bottom: 8px;
      }
      
      .flash-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 8px;
      }
      
      .product {
        padding: 8px;
      }
      
      .cards > .card {
        width: 160px;
      }
      
      .brand {
        min-width: 80px;
      }
      
      .brand img {
        width: 45px;
        height: 45px;
      }
      
      .brand div {
        font-size: 0.85rem;
      }
    }
    
    #recommendedCards {
      display: grid;
      grid-template-columns: repeat(5, 1fr); /* Limang produkto kada row */
      gap: 18px;
    }

    @media (max-width: 1024px) {
      #recommendedCards {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    @media (max-width: 768px) {
      #recommendedCards {
        grid-template-columns: repeat(2, 1fr);
        gap: 12px;
      }
    }
    @media (max-width: 480px) {
      #recommendedCards {
        grid-template-columns: 1fr;
      }
    }

    .cta, .cta:focus, .cta:active, .cta:visited, .cta:hover {
      border: none !important;
      outline: none !important;
    }
  </style>
</head>
<body>
  <header role="banner" aria-label="Main header">
    <div class="container topbar">
      <!-- Updated logo to match admin dashboard brand design -->
      <div class="logo" aria-label="Petopia logo">
        <a href="#">
          <div class="logo-icon">P</div>
          <div class="logo-text">Petopia</div>
        </a>
      </div>
      <div class="search" role="search" aria-label="Search products">
        <input id="searchInput" type="search" placeholder="Search for products, brands and categories" aria-label="Search" />
        <button aria-label="Search button">Search</button>
        <div class="quick-icons">
          <!-- Updated icons to use Font Awesome icons -->
          <button class="icon-btn" aria-label="Cart">
            <i class="fa-solid fa-cart-shopping"></i>
          </button>
          <button class="icon-btn" aria-label="Notifications">
            <i class="fa-regular fa-bell"></i>
          </button>
        </div>
      </div>
      <div class="icons" aria-hidden="false">
        <button class="icon-btn" aria-label="Login" onclick="window.location.href='login.html'">Login</button>
        <button class="icon-btn signup-btn" aria-label="Sign Up" onclick="window.location.href='signup_role_selection.html'">Sign Up</button>
      </div>
    </div>
  </header>

  <main class="container" role="main">
    <!-- Hero -->
    <section class="hero" aria-labelledby="heroTitle">
      <div class="hero-slider" id="hero">
        <div class="slides" id="slides">
          <article class="slide" aria-label="Promotion 1">
            <div class="info">
              <h2 id="heroTitle">Pet Essentials Mega Sale</h2>
              <p>Up to 70% off on food, grooming, and accessories for your pets. Limited time only!</p>
              <p><a class="cta" href="#">Shop Pet Essentials</a></p>
            </div>
            <img src="https://via.placeholder.com/600x360?text=Pet+Essentials+Promo" alt="Pet Essentials Promo" loading="lazy">
          </article>
          <article class="slide" aria-label="Promotion 2">
            <div class="info">
              <h2>New Arrivals • Pet Care</h2>
              <p>Discover the latest products for dogs, cats, birds, and more.</p>
              <p><a class="cta" href="#">Explore Pet Care</a></p>
            </div>
            <img src="https://via.placeholder.com/600x360?text=Pet+Care+Arrivals" alt="Pet Care Arrivals" loading="lazy">
          </article>
          <article class="slide" aria-label="Promotion 3">
            <div class="info">
              <h2>Free Shipping for Pet Supplies</h2>
              <p>Free delivery for orders above ₱799 on all pet essentials.</p>
              <p><a class="cta" href="#">Get Free Shipping</a></p>
            </div>
            <img src="https://via.placeholder.com/600x360?text=Free+Shipping+Pet+Supplies" alt="Free Shipping Pet Supplies" loading="lazy">
          </article>
        </div>
        <div class="hero-controls">
          <div><button class="ctrl-btn" id="prevHero" aria-label="Previous slide">◀</button></div>
          <div><button class="ctrl-btn" id="nextHero" aria-label="Next slide">▶</button></div>
        </div>
      </div>
    </section>

    <!-- Categories -->
    <nav class="categories" aria-label="Main categories">
      <button class="category">
        <i class="fa-solid fa-bone" style="font-size:1.6rem;color:#7cf4d1;"></i>
        Food & Treats
      </button>
      <button class="category">
        <i class="fa-solid fa-notes-medical" style="font-size:1.6rem;color:#8bb6ff;"></i>
        Health & Wellness
      </button>
      <button class="category">
        <i class="fa-solid fa-soap" style="font-size:1.6rem;color:#f472b6;"></i>
        Grooming & Hygiene
      </button>
      <button class="category">
        <i class="fa-solid fa-baseball-ball" style="font-size:1.6rem;color:#ffb86b;"></i>
        Toys & Entertainment
      </button>
      <button class="category">
        <i class="fa-solid fa-bed" style="font-size:1.6rem;color:#4ade80;"></i>
        Bedding & Housing
      </button>
      <button class="category">
        <i class="fa-solid fa-shirt" style="font-size:1.6rem;color:#6366f1;"></i>
        Clothing & Accessories
      </button>
      <button class="category">
        <i class="fa-solid fa-dog" style="font-size:1.6rem;color:#7cf4d1;"></i>
        Training & Behavior
      </button>
      <button class="category">
        <i class="fa-solid fa-suitcase-rolling" style="font-size:1.6rem;color:#8bb6ff;"></i>
        Travel & Outdoors
      </button>
      <button class="category">
        <i class="fa-solid fa-bowl-food" style="font-size:1.6rem;color:#ffb86b;"></i>
        Feeding Supplies
      </button>
      <button class="category">
        <i class="fa-solid fa-poop" style="font-size:1.6rem;color:#4ade80;"></i>
        Cleaning & Waste Management
      </button>
      <button class="category">
        <i class="fa-solid fa-shield-dog" style="font-size:1.6rem;color:#f472b6;"></i>
        Safety & Security
      </button>
      <button class="category">
        <i class="fa-solid fa-egg" style="font-size:1.6rem;color:#6366f1;"></i>
        Breeding & Habitat Essentials
      </button>
      <button class="category">
        <i class="fa-solid fa-couch" style="font-size:1.6rem;color:#7cf4d1;"></i>
        Furniture & Décor
      </button>
    </nav>

    <!-- Flash Sale -->
    <section class="flash" aria-labelledby="flashTitle">
      <div class="flash-head">
        <h3 id="flashTitle">Flash Sale</h3>
        <div class="countdown" aria-live="polite">Next sale in <span id="countdown">00:00:00</span></div>
      </div>
      <div class="flash-grid" id="flashGrid">
        <!-- Products injected from sample-data -->
      </div>
    </section>

    <!-- Vouchers -->
    <div class="vouchers" aria-label="Vouchers">
      <div class="voucher">₱100 off ₱1,000+ • CODE: SAVE100</div>
      <div class="voucher">Free Shipping • Orders ₱799+</div>
      <div class="voucher">5% Coins Back • Max ₱50</div>
    </div>

    <!-- Featured Carousels -->
    <section class="section" aria-labelledby="featuredTitle">
      <h3 id="featuredTitle">Featured</h3>
      <div class="carousel">
        <div class="cards" id="featuredCards"></div>
      </div>
    </section>

    <section class="section" aria-labelledby="recommendedTitle">
      <h3 id="recommendedTitle">Recommended for You</h3>
      <div class="carousel">
        <div class="cards" id="recommendedCards" tabindex="0" aria-label="Recommended products"></div>
      </div>
    </section>

    <section class="section" aria-labelledby="bestsellersTitle">
      <h3 id="bestsellersTitle">Best Sellers</h3>
      <div class="carousel">
        <div class="cards" id="bestsellersCards" tabindex="0" aria-label="Best sellers"></div>
      </div>
    </section>

    <!-- Official Stores -->
    <section class="section" aria-labelledby="storesTitle">
      <h3 id="storesTitle">Official Stores</h3>
      <div class="brands" id="brandGrid"></div>
    </section>

  </main>

  <footer role="contentinfo">
    <div class="container">
      <div class="footer-grid">
        <div>
          <h4>Customer Service</h4>
          <ul>
            <li><a href="#">Help Center</a></li>
            <li><a href="#">Track Order</a></li>
            <li><a href="#">Returns & Refunds</a></li>
          </ul>
        </div>
        <div>
          <h4>About</h4>
          <ul>
            <li><a href="#">About Petopia</a></li>
            <li><a href="#">Careers</a></li>
            <li><a href="#">Blog</a></li>
          </ul>
        </div>
        <div>
          <h4>Download App</h4>
          <p>
            <a href="#">
              <img alt="App Store" 
                   src="https://upload.wikimedia.org/wikipedia/commons/6/67/App_Store_%28iOS%29.svg" 
                   style="height:32px;vertical-align:middle;margin-right:8px;" 
                   loading="lazy">
            </a>
            <a href="#">
              <img alt="Google Play" 
                   src="https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg" 
                   style="height:32px;vertical-align:middle;" 
                   loading="lazy">
            </a>
          </p>
        </div>
        <div>
          <h4>Follow Us</h4>
          <p>
            <a href="#">
              <img alt="Facebook" 
                   src="https://cdn-icons-png.flaticon.com/512/733/733547.png" 
                   style="height:28px;vertical-align:middle;margin-right:6px;">
            </a>
            <a href="#">
              <img alt="Instagram" 
                   src="https://cdn-icons-png.flaticon.com/512/2111/2111463.png" 
                   style="height:28px;vertical-align:middle;margin-right:6px;">
            </a>
            <a href="#">
              <img alt="X (Twitter)" 
                   src="https://cdn-icons-png.flaticon.com/512/5968/5968958.png" 
                   style="height:28px;vertical-align:middle;">
            </a>
          </p>
        </div>
      </div>
      <p style="margin-top:12px;color:var(--muted);font-size:.9rem">© <span id="yr"></span> Petopia. All rights reserved.</p>
    </div>
  </footer>

  <!-- Example product with picture, description, price, star reviews, and review comments -->
  <script type="application/json" id="sample-data">
  {
    "flash": [
      {
        "id":1,
        "title":"Premium Dog Food 5kg",
        "price":"₱899",
        "orig":"₱1,299",
        "off":"31%",
        "img":"https://via.placeholder.com/400x300?text=Dog+Food",
        "soldPercent":75,
        "rating":4.8,
        "desc":"High-quality dog food for all breeds. Rich in protein and vitamins.",
        "reviews":[
          {"user":"Maria","stars":5,"comment":"Super effective! My dog loves it."},
          {"user":"John","stars":4,"comment":"Good value for money."}
        ]
      },
      {"id":2,"title":"Cat Litter 10L","price":"₱349","orig":"₱499","off":"30%","img":"https://via.placeholder.com/400x300?text=Cat+Litter","soldPercent":60},
      {"id":3,"title":"Pet Shampoo 500ml","price":"₱199","orig":"₱299","off":"33%","img":"https://via.placeholder.com/400x300?text=Pet+Shampoo","soldPercent":80},
      {"id":4,"title":"Chew Toy Set","price":"₱299","orig":"₱499","off":"40%","img":"https://via.placeholder.com/400x300?text=Chew+Toy","soldPercent":50},
      {"id":5,"title":"Flea & Tick Collar","price":"₱399","orig":"₱599","off":"33%","img":"https://via.placeholder.com/400x300?text=Flea+Collar","soldPercent":65},
      {"id":6,"title":"Pet Carrier Bag","price":"₱799","orig":"₱1,299","off":"38%","img":"https://via.placeholder.com/400x300?text=Carrier+Bag","soldPercent":55},
      {"id":7,"title":"Aquarium Starter Kit","price":"₱1,499","orig":"₱2,199","off":"32%","img":"https://via.placeholder.com/400x300?text=Aquarium+Kit","soldPercent":40},
      {"id":8,"title":"Rabbit Hay 1kg","price":"₱249","orig":"₱399","off":"38%","img":"https://via.placeholder.com/400x300?text=Rabbit+Hay","soldPercent":70}
    ],
    "featured": [
      {"id":11,"title":"Automatic Pet Feeder","rating":4.7,"price":"₱2,499","img":"https://via.placeholder.com/400x400?text=Pet+Feeder"},
      {"id":12,"title":"Cat Scratching Post","rating":4.6,"price":"₱899","img":"https://via.placeholder.com/400x400?text=Scratching+Post"},
      {"id":13,"title":"Dog Harness","rating":4.5,"price":"₱499","img":"https://via.placeholder.com/400x400?text=Dog+Harness"},
      {"id":14,"title":"Bird Cage Large","rating":4.4,"price":"₱1,299","img":"https://via.placeholder.com/400x400?text=Bird+Cage"},
      {"id":15,"title":"Pet Water Fountain","rating":4.8,"price":"₱1,099","img":"https://via.placeholder.com/400x400?text=Water+Fountain"}
    ],
    "recommended": [
      {"id":21,"title":"Dog Treats 500g","rating":4.6,"price":"₱299","img":"https://via.placeholder.com/400x400?text=Dog+Treats"},
      {"id":22,"title":"Cat Bed Soft","rating":4.7,"price":"₱599","img":"https://via.placeholder.com/400x400?text=Cat+Bed"},
      {"id":23,"title":"Hamster Wheel","rating":4.5,"price":"₱349","img":"https://via.placeholder.com/400x400?text=Hamster+Wheel"},
      {"id":24,"title":"Fish Food Flakes","rating":4.4,"price":"₱199","img":"https://via.placeholder.com/400x400?text=Fish+Food"},
      {"id":25,"title":"Pet Nail Clipper","rating":4.6,"price":"₱149","img":"https://via.placeholder.com/400x400?text=Nail+Clipper"}
    ],
    "bestsellers": [
      {"id":31,"title":"Dog Leash Nylon","rating":4.8,"price":"₱199","img":"https://via.placeholder.com/400x400?text=Dog+Leash"},
      {"id":32,"title":"Cat Food Wet 400g","rating":4.7,"price":"₱89","img":"https://via.placeholder.com/400x400?text=Cat+Food"},
      {"id":33,"title":"Pet Bowl Stainless","rating":4.6,"price":"₱249","img":"https://via.placeholder.com/400x400?text=Pet+Bowl"},
      {"id":34,"title":"Bird Seeds 1kg","rating":4.5,"price":"₱199","img":"https://via.placeholder.com/400x400?text=Bird+Seeds"},
      {"id":35,"title":"Dog Shampoo 250ml","rating":4.7,"price":"₱149","img":"https://via.placeholder.com/400x400?text=Dog+Shampoo"}
    ],
    "brands": [
      {"id":101,"name":"PetLife","logo":"https://via.placeholder.com/120x60?text=PetLife"},
      {"id":102,"name":"FurEver","logo":"https://via.placeholder.com/120x60?text=FurEver"},
      {"id":103,"name":"Paws & Claws","logo":"https://via.placeholder.com/120x60?text=Paws+Claws"},
      {"id":104,"name":"Whisker World","logo":"https://via.placeholder.com/120x60?text=Whisker+World"},
      {"id":105,"name":"AquaPet","logo":"https://via.placeholder.com/120x60?text=AquaPet"},
      {"id":106,"name":"Happy Tails","logo":"https://via.placeholder.com/120x60?text=Happy+Tails"},
      {"id":107,"name":"Pet Essentials","logo":"https://via.placeholder.com/120x60?text=Essentials"},
      {"id":108,"name":"Bark Avenue","logo":"https://via.placeholder.com/120x60?text=Bark+Avenue"},
      {"id":109,"name":"Kitty Kingdom","logo":"https://via.placeholder.com/120x60?text=Kitty+Kingdom"},
      {"id":110,"name":"Fish Friends","logo":"https://via.placeholder.com/120x60?text=Fish+Friends"}
    ]
  }
  </script>

  <script>
    // Basic JS: hero slider, countdown, render products, simple search and cart badge
    const slidesEl = document.getElementById('slides');
    const slides = slidesEl.children;
    let cur = 0;
    const showSlide = i => { slidesEl.style.transform = `translateX(-${i*100}%)`; cur = i; };
    document.getElementById('nextHero').addEventListener('click', ()=> showSlide((cur+1)%slides.length));
    document.getElementById('prevHero').addEventListener('click', ()=> showSlide((cur-1+slides.length)%slides.length));
    let heroTimer = setInterval(()=> showSlide((cur+1)%slides.length), 5000);
    document.getElementById('hero').addEventListener('mouseenter', ()=> clearInterval(heroTimer));
    document.getElementById('hero').addEventListener('mouseleave', ()=> heroTimer = setInterval(()=> showSlide((cur+1)%slides.length), 5000));

    // Countdown to next hour (demo)
    function startCountdown(){
      const cd = document.getElementById('countdown');
      function tick(){
        const now = new Date();
        const next = new Date(now);
        next.setHours(now.getHours()+1,0,0,0);
        let diff = Math.max(0, Math.floor((next-now)/1000));
        const h = String(Math.floor(diff/3600)).padStart(2,'0');
        diff %= 3600;
        const m = String(Math.floor(diff/60)).padStart(2,'0');
        const s = String(diff%60).padStart(2,'0');
        cd.textContent = `${h}:${m}:${s}`;
      }
      tick(); setInterval(tick,1000);
    }
    startCountdown();

    // Render sample data
    const data = JSON.parse(document.getElementById('sample-data').textContent);
    const flashGrid = document.getElementById('flashGrid');
    data.flash.forEach(p => {
      const div = document.createElement('div'); div.className='product';
      div.innerHTML = `<img src="${p.img}" alt="${p.title}" loading="lazy"><div style="font-size:.95rem;margin-top:6px">${p.title}</div><div class="price">${p.price} <span class="orig">${p.orig}</span></div><div style="font-size:.9rem;color:var(--muted)">${p.off} off</div><div class="progress" aria-label="sold progress"><i style="width:${p.soldPercent}%"></i></div>`;
      flashGrid.appendChild(div);
    });

    function renderCards(list, elId){
      const el = document.getElementById(elId);
      list.forEach(p=>{
        const card = document.createElement('article'); card.className='card';
        card.innerHTML = `<img src="${p.img}" alt="${p.title}" loading="lazy"><div style="margin-top:8px;font-size:.95rem">${p.title}</div><div class="stars">${'★'.repeat(Math.round(p.rating||4))}</div><div class="price">${p.price}</div><div><button class="cta" onclick="addToCart(${p.id})">Add to Cart</button></div>`;
        el.appendChild(card);
      });
    }
    renderCards(data.featured,'featuredCards');
    renderCards(data.recommended,'recommendedCards');
    renderCards(data.bestsellers,'bestsellersCards');

    const brandGrid = document.getElementById('brandGrid');
    data.brands.forEach(b=>{
      const d = document.createElement('div'); d.className='brand';
      d.innerHTML = `<img alt="${b.name}" src="${b.logo}"><div style="margin-top:8px">${b.name}</div><div style="margin-top:8px"><a href="#">Visit Store</a></div>`;
      brandGrid.appendChild(d);
    });

    let cartCount = 0;
    const cartBadge = document.getElementById('cartBadge');
    
    function updateCartBadge() {
      cartBadge.textContent = cartCount;
      cartBadge.style.display = cartCount > 0 ? 'block' : 'none';
      // Add animation when cart updates
      cartBadge.style.transform = 'scale(1.2)';
      setTimeout(() => {
        cartBadge.style.transform = 'scale(1)';
      }, 200);
    }
    
    function addToCart(id) { 
      if (!isLoggedIn()) {
        showLoginPrompt('add to cart');
        return;
      }
      cartCount++; 
      updateCartBadge();
      // Show feedback to user
      const button = event.target;
      const originalText = button.textContent;
      button.textContent = 'Added!';
      button.style.background = '#4ade80';
      setTimeout(() => {
        button.textContent = originalText;
        button.style.background = '';
      }, 1000);
    }
    window.addToCart = addToCart;

    // Add this JS before your existing addToCart function

function isLoggedIn() {
  // Replace this with your real login check logic
  return false; // Demo: always not logged in
}

function showLoginPrompt(actionText) {
  // Popup/modal with notice icon and side-by-side buttons (no icons on buttons)
  const div = document.createElement('div');
  div.style = 'position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9999;background:rgba(0,0,0,.18);display:flex;align-items:center;justify-content:center;';
  div.innerHTML = `
    <div style="background:#fff;padding:32px 28px;border-radius:14px;box-shadow:0 6px 32px #8bb6ff44;max-width:340px;text-align:center;">
      <div style="font-size:2.2rem;color:#ff6b6b;margin-bottom:10px;">
        <i class="fa-solid fa-circle-exclamation"></i>
      </div>
      <div style="font-size:1.15rem;font-weight:700;color:#23272f;margin-bottom:18px;">
        You need to be logged in to ${actionText}.
      </div>
      <div style="display:flex;gap:12px;justify-content:center;">
        <button style="background:linear-gradient(135deg,#7cf4d1,#8bb6ff);color:#23272f;font-weight:700;border:none;border-radius:8px;padding:10px 18px;cursor:pointer;" onclick="window.location.href='login.html'">
          Login
        </button>
        <button style="background:#eee;color:#23272f;font-weight:600;border:none;border-radius:8px;padding:10px 18px;cursor:pointer;" onclick="this.parentNode.parentNode.parentNode.remove()">
          Cancel
        </button>
      </div>
    </div>
  `;
  document.body.appendChild(div);
}

// For Buy Now buttons, add this attribute: onclick="buyNowHandler()"
// Add this function:
function buyNowHandler(productTitle) {
  if (!isLoggedIn()) {
    showLoginPrompt('buy now');
    return;
  }
  alert('Proceeding to checkout for product: ' + productTitle);
}
window.buyNowHandler = buyNowHandler;

// 1. Render ALL products (flash, featured, recommended, bestsellers) sa "Recommended for You"
function getAllProducts() {
  const all = [
    ...(data.flash || []),
    ...(data.featured || []),
    ...(data.recommended || []),
    ...(data.bestsellers || [])
  ];
  const seen = {};
  return all.filter(p => {
    if (seen[p.id]) return false;
    seen[p.id] = true;
    return true;
  });
}

// 2. Render all products sa recommendedCards on page load
function renderRecommendedAll() {
  const allProducts = getAllProducts();
  const el = document.getElementById('recommendedCards');
  el.innerHTML = '';
  allProducts.forEach(p => {
    const card = document.createElement('article'); card.className='card';
    card.innerHTML = `<img src="${p.img}" alt="${p.title}" loading="lazy"><div style="margin-top:8px;font-size:.95rem">${p.title}</div><div class="stars">${'★'.repeat(Math.round(p.rating||4))}</div><div class="price">${p.price}</div><div><button class="cta" onclick="addToCart(${p.id})">Add to Cart</button></div>`;
    el.appendChild(card);
  });
  // Attach modal to recommendedCards
  attachCardModal(allProducts, 'recommendedCards');
}

// Call this after other renders
renderRecommendedAll();

    // 3. Search button: filter products in recommendedCards only when clicked
    function searchRecommended() {
      document.getElementById('recommendedTitle').scrollIntoView({ behavior: 'smooth' });
      const q = document.getElementById('searchInput').value.toLowerCase();
      const allProducts = getAllProducts();

      // If search bar is empty, show all products again
      if (!q.trim()) {
        renderRecommendedAll();
        return;
      }

      // Filter products
      const filtered = allProducts.filter(p =>
        p.title.toLowerCase().includes(q)
      );
      const el = document.getElementById('recommendedCards');
      el.innerHTML = '';
      filtered.forEach(p => {
        const card = document.createElement('article'); card.className='card';
        card.innerHTML = `<img src="${p.img}" alt="${p.title}" loading="lazy">
          <div style="margin-top:8px;font-size:.95rem">${p.title}</div>
          <div class="stars">${'★'.repeat(Math.round(p.rating||4))}</div>
          <div class="price">${p.price}</div>
          <div><button class="cta" onclick="addToCart(${p.id})">Add to Cart</button></div>`;
        el.appendChild(card);
      });
      attachCardModal(filtered, 'recommendedCards');
    }

    // Search button click
    document.querySelector('.search button').addEventListener('click', searchRecommended);

    // ENTER key triggers search
    document.getElementById('searchInput').addEventListener('keydown', function(e) {
      if (e.key === 'Enter') {
        searchRecommended();
      }
    });

    // OPTIONAL: Also reset when user clears the search bar
    document.getElementById('searchInput').addEventListener('input', function() {
      if (!this.value.trim()) {
        renderRecommendedAll();
      }
    });

    // Footer year
    document.getElementById('yr').textContent = new Date().getFullYear();

    // Accessibility: allow left/right on carousels
    document.querySelectorAll('.cards').forEach(c=>{
      c.addEventListener('keydown', e=>{
        if(e.key==='ArrowRight') c.scrollBy({left:200,behavior:'smooth'});
        if(e.key==='ArrowLeft') c.scrollBy({left:-200,behavior:'smooth'});
      });
    });

    // Show modal with product info
    function showProductModal(product) {
      const modal = document.getElementById('productModal');
      const content = document.getElementById('modalContent');
      const percent = product.rating ? Math.round((product.rating/5)*100) : 0;

      function getProfileImg(username) {
        return `https://ui-avatars.com/api/?name=${encodeURIComponent(username)}&background=8bb6ff&color=fff&size=48`;
      }

      // Always show 5 stars, shade only up to rating
      function renderStars(rating) {
        let html = '';
        for (let i = 1; i <= 5; i++) {
          html += `<span style="font-size:1.25rem;vertical-align:middle;color:${i <= Math.round(rating) ? 'gold' : '#e5e8f0'};">&#9733;</span>`;
        }
        return html;
      }

      // Responsive star shade based on percent (not just rating)
      function renderStarsByPercent(percent) {
        let html = '';
        // percent: 0-100, 5 stars
        let fullStars = Math.floor(percent / 20);
        let partial = (percent % 20) / 20;
        for (let i = 1; i <= 5; i++) {
          if (i <= fullStars) {
            html += `<span style="font-size:1.25rem;vertical-align:middle;color:gold;">&#9733;</span>`;
          } else if (i === fullStars + 1 && partial > 0) {
            html += `<span style="font-size:1.25rem;vertical-align:middle;
              background: linear-gradient(90deg, gold ${partial*100}%, #e5e8f0 ${partial*100}%);
              -webkit-background-clip: text; -webkit-text-fill-color: transparent; color:gold;">&#9733;</span>`;
          } else {
            html += `<span style="font-size:1.25rem;vertical-align:middle;color:#e5e8f0;">&#9733;</span>`;
          }
        }
        return html;
      }

      let reviewsHtml = '';
      if (product.reviews && product.reviews.length) {
        reviewsHtml = `
          <div id="reviewsList" style="max-height:180px;overflow-y:auto;padding-right:6px;
            background:rgba(139,182,255,0.10);border-radius:10px;padding:16px 10px;margin-bottom:18px;">
            ${product.reviews.map(r => `
              <div style="display:flex;align-items:flex-start;gap:10px;margin-bottom:14px;">
                <img src="${getProfileImg(r.user)}" alt="${r.user}" style="width:38px;height:38px;border-radius:50%;object-fit:cover;box-shadow:0 2px 8px #eee;">
                <div>
                  <div style="font-weight:700;color:#23272f;font-size:.97rem;">
                    ${r.user}
                    ${renderStars(r.stars)}
                  </div>
                  <div style="color:#5b6378;font-size:.97rem;">${r.comment}</div>
                </div>
              </div>
            `).join('')}

          </div>
        `;
      } else {
        reviewsHtml = `<div style="color:#5b6378;background:rgba(139,182,255,0.10);border-radius:10px;padding:16px 10px;margin-bottom:18px;">No reviews yet.</div>`;
      }

      content.innerHTML = `
        <button id="closeModal" style="position:absolute;top:16px;right:18px;background:none;border:none;font-size:2rem;cursor:pointer;z-index:2;">&times;</button>
        <div style="flex:1 1 340px;min-width:320px;max-width:370px;padding:32px 28px 32px 32px;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;position:relative;">
          <div style="display:flex;align-items:center;gap:10px;margin-bottom:16px;">
            <img src="${product.shopImg || 'https://ui-avatars.com/api/?name=' + encodeURIComponent(product.shop || 'Shop') + '&background=8bb6ff&color=fff&size=48'}"
                 alt="${product.shop || 'Shop'}"
                 style="width:38px;height:38px;border-radius:50%;object-fit:cover;box-shadow:0 2px 8px #eee;">
            <span style="font-weight:700;color:#23272f;font-size:1.05rem;">${product.shop || 'Shop Name'}</span>
          </div>
          <img src="${product.img}" alt="${product.title}" style="width:100%;max-width:400px;height:270px;object-fit:cover;border-radius:12px;box-shadow:0 2px 12px #e5e8f0;">
          <h2 style="margin:18px 0 8px 0;font-size:1.35rem;font-weight:800;color:#23272f;">${product.title}</h2>
          <div id="modalDesc" style="margin-bottom:10px;color:#23272f;font-size:1.05rem;">
            ${
              (() => {
                if (!product.desc) return 'No description available.';
                const words = product.desc.split(' ');
                if (words.length <= 20) return product.desc;
                const shortDesc = words.slice(0, 20).join(' ') + '... ';
                return `${shortDesc}<a href="#" id="seeAllDesc" style="color:var(--accent-2);font-weight:600;text-decoration:underline;cursor:pointer;">See all</a>`;
              })()
            }
          </div>
          <div style="font-weight:800;color:#23272f;font-size:1.18rem;margin-bottom:8px;">
            ${product.price} 
            ${product.orig ? `<span style="text-decoration:line-through;color:#5b6378;font-size:.98rem;margin-left:8px;">${product.orig}</span>` : ''}
          </div>
          <div style="margin-bottom:18px;color:#5b6378;">${product.off || ''}</div>
        </div>
        <div style="flex:1 1 340px;min-width:320px;max-width:370px;padding:32px 32px 32px 18px;display:flex;flex-direction:column;justify-content:flex-start;position:relative;">
          <!-- Star rating and percent at top right side -->
          <div style="margin-bottom:18px;">
            <div style="display:flex;align-items:center;gap:14px;margin-bottom:8px;">
              <span style="font-size:1.25rem;font-weight:700;color:#23272f;">${product.rating ? product.rating + ' / 5.0' : ''}</span>
              ${renderStarsByPercent(percent)}
              <span style="font-size:1.05rem;color:#5b6378;">(${percent}%)</span>
            </div>
            <div style="height:10px;background:#e5e8f0;border-radius:6px;overflow:hidden;width:100%;max-width:400px;">
              <div style="width:${percent}%;height:100%;background:linear-gradient(90deg,#7cf4d1,#8bb6ff);"></div>
            </div>
          </div>
          ${reviewsHtml}
          <div style="position:absolute;bottom:32px;left:32px;right:32px;display:flex;gap:16px;justify-content:center;">
            <button class="cta" style="flex:1;max-width:260px;" onclick="addToCart(${product.id})">Add to Cart</button>
            <button class="cta" style="flex:1;max-width:260px;background:#23272f;color:#fff;" onclick="buyNowHandler('${product.title}')">Buy Now</button>
          </div>
        </div>
      `;
      modal.style.display = 'flex';
      document.getElementById('closeModal').onclick = () => { modal.style.display = 'none'; };
      
      // After setting content.innerHTML, add this JS to handle "See all"
      if (product.desc && product.desc.split(' ').length > 20) {
        const seeAll = document.getElementById('seeAllDesc');
        if (seeAll) {
          seeAll.onclick = function(e) {
            e.preventDefault();
            document.getElementById('modalDesc').innerHTML = product.desc;
          };
        }
      }
    }

    // Attach click event to products (flash sale)
    flashGrid.querySelectorAll('.product').forEach((div, i) => {
      div.style.cursor = 'pointer';
      div.onclick = () => showProductModal(data.flash[i]);
    });

    // Attach click event to carousel cards (featured, recommended, bestsellers)
    function attachCardModal(list, elId) {
      const el = document.getElementById(elId);
      Array.from(el.children).forEach((card, i) => {
        card.style.cursor = 'pointer';
        card.onclick = (e) => {
          if (e.target.tagName === 'BUTTON') return;
          showProductModal(list[i]);
        };
      });
    }
    attachCardModal(data.featured, 'featuredCards');
    attachCardModal(data.recommended, 'recommendedCards');
    attachCardModal(data.bestsellers, 'bestsellersCards');

    // Optional: close modal when clicking outside
    document.getElementById('productModal').onclick = function(e) {
      if(e.target === this) this.style.display = 'none';
    };

    // Add shop info to product modals
    document.querySelectorAll('.product').forEach((div, i) => {
      div.onclick = () => {
        const product = data.flash[i];
        showProductModal(product);
        
        // Add shop info section
        const shopInfoHtml = `
          <div style="display:flex;align-items:center;gap:10px;margin-bottom:16px;">
            <img src="${product.shopImg || 'https://ui-avatars.com/api/?name=' + encodeURIComponent(product.shop || 'Shop') + '&background=8bb6ff&color=fff&size=48'}"
                 alt="${product.shop || 'Shop'}"
                 style="width:38px;height:38px;border-radius:50%;object-fit:cover;box-shadow:0 2px 8px #eee;">
            <span style="font-weight:700;color:#23272f;font-size:1.05rem;">${product.shop || 'Shop Name'}</span>
          </div>
        `;
        document.getElementById('modalContent').insertAdjacentHTML('beforeend', shopInfoHtml);
      };
    });
  </script>

  <!-- Move this modal HTML just BEFORE the closing </body> tag -->
  <div id="productModal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:999;background:rgba(0,0,0,.25);backdrop-filter:blur(2px);align-items:center;justify-content:center;">
    <div id="modalContent" style="background:rgba(255,255,255,.97);border-radius:18px;max-width:820px;width:96vw;min-height:420px;display:flex;box-shadow:0 10px 40px rgba(16,24,40,.22);position:relative;overflow:hidden;">
      <!-- Product details will be injected here -->
    </div>
  </div>
</body>
</html>
