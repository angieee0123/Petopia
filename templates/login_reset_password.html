<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Petopia • Reset Password</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root { 
      --bg:#f6f8ff;--panel:rgba(255,255,255,.6);--panel-strong:rgba(255,255,255,.9);
      --text:#0b0f1a;--muted:#5b6378;--accent:#7cf4d1;--accent-2:#8bb6ff;
      --ring:rgba(124,244,209,0.7);--shadow:0 20px 60px rgba(16,24,40,.15);
      --error:#ff6b6b;--success:#4cd964;
    }
    body{margin:0;font-family:Inter,system-ui;display:flex;justify-content:center;align-items:center;height:100vh;background:var(--bg);}
    .aurora{position:fixed;inset:0;filter:blur(60px);}
    .blob{position:absolute;width:60vmax;height:60vmax;border-radius:50%;mix-blend-mode:screen;opacity:.55;animation:float 18s ease-in-out infinite;}
    .blob.a{background:radial-gradient(circle at 30% 30%,var(--accent),transparent 60%);left:-20vmax;top:-10vmax;}
    .blob.b{background:radial-gradient(circle at 70% 30%,var(--accent-2),transparent 60%);right:-15vmax;top:-5vmax;}
    .blob.c{background:radial-gradient(circle at 50% 70%,#f39cff,transparent 60%);left:10vmax;bottom:-20vmax;}
    @keyframes float{0%,100%{transform:translate3d(0,0,0)}50%{transform:translate3d(0,-4%,0) scale(1.05)}}
    .panel{width:min(420px,92vw);padding:32px;border-radius:20px;background:var(--panel);border:1px solid var(--panel-strong);box-shadow:var(--shadow);backdrop-filter:blur(16px);}
    h2{text-align:center;margin:0 0 8px;}
    p{text-align:center;color:var(--muted);font-size:14px;margin:0 0 18px;}
    input[type="password"] {
      width: 100%; padding: 14px; border-radius: 14px; border: 2px solid var(--accent);
      font-size: 15px; background: rgba(255,255,255,.04); margin-bottom: 4px;
      color: var(--text); outline: none; box-sizing: border-box; transition: border-color .2s, box-shadow .2s;
    }
    input[type="password"]:focus { border-color: var(--ring); box-shadow: 0 0 0 6px rgba(124,244,209,.15);}
    .feedback { font-size:0.70rem; height:15px;  transition: color .2s; }
    .btn{width:100%;padding:14px;border:0;border-radius:16px;font-weight:700;background:linear-gradient(135deg,var(--accent),var(--accent-2));cursor:pointer;color:#051014;}
    footer{position:fixed;bottom:12px;left:0;right:0;text-align:center;color:var(--muted);font-size:12px;}
  </style>
</head>
<body>
  <div class="aurora"><div class="blob a"></div><div class="blob b"></div><div class="blob c"></div></div>
  <div class="panel">
    <h2>Reset Password</h2>
    <p>Create a new password for your account (minimum 8 characters).</p>
    <form id="resetForm">
      <input type="password" id="newPassword" placeholder="New password" required>
      <div class="feedback" id="newPassFeedback"></div>
      <input type="password" id="confirmPassword" placeholder="Confirm password" required>
      <div class="feedback" id="confirmPassFeedback"></div>
      <button class="btn" type="submit">Update Password</button>
    </form>
  </div>
  <footer>© <span id="year"></span> Petopia</footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const newPassInput = document.getElementById('newPassword');
    const confirmPassInput = document.getElementById('confirmPassword');
    const newPassFeedback = document.getElementById('newPassFeedback');
    const confirmPassFeedback = document.getElementById('confirmPassFeedback');
    const form = document.getElementById('resetForm');

    // Real-time password validation
    newPassInput.addEventListener('input', () => {
      const val = newPassInput.value;
      if(val.length === 0) {
        newPassFeedback.textContent = '';
      } else if(val.length < 8) {
        newPassFeedback.textContent = 'Password too short';
        newPassFeedback.style.color = 'var(--error)';
      } else {
        newPassFeedback.textContent = 'Good password';
        newPassFeedback.style.color = 'var(--success)';
      }

      checkConfirmMatch();
    });

    confirmPassInput.addEventListener('input', checkConfirmMatch);

    function checkConfirmMatch(){
      const newVal = newPassInput.value;
      const confirmVal = confirmPassInput.value;

      if(confirmVal.length === 0){
        confirmPassFeedback.textContent = '';
      } else if(newVal !== confirmVal){
        confirmPassFeedback.textContent = 'Passwords do not match';
        confirmPassFeedback.style.color = 'var(--error)';
      } else {
        confirmPassFeedback.textContent = 'Passwords match';
        confirmPassFeedback.style.color = 'var(--success)';
      }
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const newPass = newPassInput.value;
      const confirmPass = confirmPassInput.value;

      if(newPass.length < 8){
        newPassFeedback.textContent = 'Password must be at least 8 characters';
        newPassFeedback.style.color = 'var(--error)';
        newPassInput.focus();
        return;
      }

      if(newPass !== confirmPass){
        confirmPassFeedback.textContent = 'Passwords do not match';
        confirmPassFeedback.style.color = 'var(--error)';
        confirmPassInput.focus();
        return;
      }

      alert('Password updated successfully!');
      window.location.href = 'login.html';
    });
  </script>
</body>
</html>
